!function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var u="function"==typeof require&&require;if(!s&&u)return u(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var r=n[l]={exports:{}};t[l][0].call(r.exports,(function(e){return o(t[l][1][e]||e)}),r,r.exports,e,t,n,i)}return n[l].exports}for(var a="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("../../utilities/longPress")),l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t.subtitle&&void 0!==t.onLongPress)throw new Error("Invalid config for dialPad button");this.config=t}return i(e,[{key:"applyLongPressEvent",value:function(e){var t=this;a.default.apply({target:e,onLongPressCallback:function(){t.config.onLongPress(t.config.subtitle)},onPressStart:function(){t.config.onClick(t.config.title)},onLongPressCancel:this.config.onLongPressCancel})}},{key:"addClickEventListener",value:function(e){var t=this;e.addEventListener("click",(function(){t.config.onClick(t.config.title)}))}},{key:"configureButtonEvents",value:function(e){void 0!==this.config.onLongPress?this.applyLongPressEvent(e):this.addClickEventListener(e)}},{key:"build",value:function(e){e.appendChild(this.skeleton)}},{key:"skeleton",get:function(){var e=document.createElement("button");return e.id=this.id,e.classList.add("dialpad-btn"),e.setAttribute("aria-label",this.config.ariaLabel),e.appendChild(this.titleElement),e.appendChild(this.subtitleElement),this.configureButtonEvents(e),e}},{key:"titleElement",get:function(){var e=document.createElement("h1");return e.classList.add("dialpad-btn__title"),e.innerText=this.config.title,e}},{key:"subtitleElement",get:function(){var e,t=document.createElement("p");return t.classList.add("dialpad-btn__subtitle"),t.innerText=null!==(e=this.config.subtitle)&&void 0!==e?e:"",t}},{key:"id",get:function(){return"dialpad-btn-"+this.config.namespace}},{key:"querySelector",get:function(){return document.getElementById(this.id)}}]),e}();n.default=l},{"../../utilities/longPress":7}],2:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"build",value:function(e){e.appendChild(this.skeleton)}},{key:"makeSureFocused",value:function(){this.focused||this.focus()}},{key:"focus",value:function(){this.querySelector.focus()}},{key:"insertValue",value:function(e){var t=this.value,n=this.selectionStartPosition,i=this.selectionEndPosition,o=void 0;o=n!==i?t.slice(0,n)+e+t.slice(i):t.slice(0,n)+e+t.slice(n);var a=n+e.length;this.value=o,this.selectionPosition=a}},{key:"removeValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.value,n=this.selectionStartPosition,i=t.slice(0,n);if(""!==i){var o=t.slice(n),a=i.length-e,l=i.slice(0,a)+o,s=n-e;this.value=l,this.selectionPosition=s,this.inputEventHandler()}}},{key:"replaceValue",value:function(e){this.removeValue(),this.insertValue(e),this.inputEventHandler()}},{key:"clear",value:function(){this.value="",this.focus()}},{key:"validation",value:function(){var e=this.value,t=this.selectionStartPosition,n=e.replace(/[^0-9+*#]/g,""),i=t+n.length-e.length;this.value=n,this.selectionPosition=i}},{key:"inputEventHandler",value:function(){this.validation(),""===this.value?(console.log("value empty"),this.config.onValueEmpty()):(console.log("value non empty"),this.config.onValueNonEmpty())}},{key:"skeleton",get:function(){var e=document.createElement("input");return e.id=this.id,e.className="input-element",e.name="number",e.type="text",e.autofocus=!0,e.inputMode="none",e.autocomplete="off",e.addEventListener("input",this.inputEventHandler.bind(this)),e}},{key:"querySelector",get:function(){return document.getElementById(this.id)}},{key:"id",get:function(){return"input-"+this.config.namespace}},{key:"selectionStartPosition",get:function(){return this.makeSureFocused(),this.querySelector.selectionStart}},{key:"selectionEndPosition",get:function(){return this.makeSureFocused(),this.querySelector.selectionEnd}},{key:"selectionPosition",set:function(e){this.makeSureFocused(),this.querySelector.selectionStart=e,this.querySelector.selectionEnd=e}},{key:"focused",get:function(){return document.activeElement===this.querySelector}},{key:"value",get:function(){return this.querySelector.value},set:function(e){this.querySelector.value=e}}]),e}();n.default=o},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=[{namespace:"one",ariaLabel:"One",title:"1"},{namespace:"two",ariaLabel:"Two",title:"2",subtitle:"ABC"},{namespace:"three",ariaLabel:"Three",title:"3",subtitle:"DEF"},{namespace:"four",ariaLabel:"Four",title:"4",subtitle:"GHI"},{namespace:"five",ariaLabel:"Five",title:"5",subtitle:"JKL"},{namespace:"six",ariaLabel:"Six",title:"6",subtitle:"MNO"},{namespace:"seven",ariaLabel:"Seven",title:"7",subtitle:"PQRS"},{namespace:"eight",ariaLabel:"Eight",title:"8",subtitle:"TUV"},{namespace:"nine",ariaLabel:"Nine",title:"9",subtitle:"WXYZ"},{namespace:"star",ariaLabel:"Star",title:"*"},{namespace:"zero",ariaLabel:"Zero",title:"0",subtitle:"+"},{namespace:"hash",ariaLabel:"Hash",title:"#"}]},{}],4:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("../components/buttons/buttons")),l=o(e("../utilities/longPress")),s=o(e("./data")),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"getMaterialIcon",value:function(e){var t=document.createElement("span");return t.className="material-symbols-outlined",t.innerText=e,t}},{key:"build",value:function(e){e.appendChild(this.skeleton)}},{key:"enableBackspaceButton",value:function(){this.backspaceButtonElement.disabled=!1}},{key:"disableBackspaceButton",value:function(){this.backspaceButtonElement.disabled=!0}},{key:"skeleton",get:function(){var e=this,t=document.createElement("div");return t.id=this.id,t.classList.add("keypad"),s.default.forEach((function(n){new a.default({namespace:n.namespace,ariaLabel:n.ariaLabel,title:n.title,subtitle:n.subtitle,onClick:e.config.onKeypadBtnClick,onLongPress:"0"===n.title?e.config.onZeroBtnLongPress:void 0,onLongPressCancel:"0"===n.title?e.config.onZeroBtnLongPressCancel:void 0}).build(t)})),t.appendChild(document.createElement("span")),t.appendChild(this.callButton),t.appendChild(this.backspaceButton),t}},{key:"callButton",get:function(){var e=document.createElement("button");return e.classList.add("keypad__call-btn"),e.setAttribute("aria-label","call button"),e.appendChild(this.getMaterialIcon("call")),e.addEventListener("click",this.config.onCallBtnClick),e}},{key:"backspaceButton",get:function(){var e=document.createElement("button");return e.classList.add("keypad__backspace-btn"),e.setAttribute("aria-label","Backspace button"),e.disabled=!0,e.appendChild(this.getMaterialIcon("backspace")),e.addEventListener("click",this.config.onBackspaceBtnClick),l.default.apply({target:e,onLongPressCallback:this.config.onBackspaceBtnLongPress}),e}},{key:"backspaceButtonElement",get:function(){return this.querySelector.querySelector(".keypad__backspace-btn")}},{key:"id",get:function(){return"keypad-"+this.config.namespace}},{key:"querySelector",get:function(){return document.getElementById(this.id)}}]),e}();n.default=u},{"../components/buttons/buttons":1,"../utilities/longPress":7,"./data":3}],5:[function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=i(e("./pages/dialpad"));window.onload=function(){new o.default({namespace:"demo"}).build(document.body)}},{"./pages/dialpad":6}],6:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("../components/forms/inputs")),l=o(e("../layout/keypad")),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"skeleton",value:function(){var e=document.createElement("section");return e.id=this.id,e.className="dialpad",this.inputFieldLayout.build(e),this.keypadLayout.build(e),e.appendChild(this.copyrightText),e}},{key:"destroy",value:function(){this.element.remove()}},{key:"build",value:function(e){e.appendChild(this.skeleton())}},{key:"inputFieldLayout",get:function(){var e=this;return this.inputField=new a.default({namespace:this.config.namespace,onValueEmpty:function(){console.log("disable backspace button"),e.keypad.disableBackspaceButton()},onValueNonEmpty:function(){console.log("enable backspace button"),e.keypad.enableBackspaceButton()}}),this.inputField}},{key:"keypadLayout",get:function(){var e=this;return this.keypad=new l.default({namespace:this.config.namespace,onKeypadBtnClick:function(t){console.log("clicked on button",t),e.inputField.insertValue(t),e.keypad.enableBackspaceButton()},onZeroBtnLongPress:function(t){console.log("long pressed on zero button"),e.inputField.replaceValue(t)},onZeroBtnLongPressCancel:function(){e.inputField.focus()},onCallBtnClick:function(){console.log("clicked on call button"),""===e.inputField.value&&void 0!==e.recentCallOnNumber?(console.log("fill last call on number in input field value"),e.inputField.value=e.recentCallOnNumber,e.inputField.focus(),e.keypad.enableBackspaceButton()):""!==e.inputField.value&&(e.recentCallOnNumber=e.inputField.value,console.log("placing call on ",e.inputField.value))},onBackspaceBtnClick:function(){console.log("clicked on clear button"),e.inputField.removeValue()},onBackspaceBtnLongPress:function(){console.log("long press on backspace button"),e.inputField.value="",e.inputField.focus(),e.keypad.disableBackspaceButton()}}),this.keypad}},{key:"copyrightText",get:function(){var e=document.createElement("p");return e.className="copyright-text",e.innerText="Made by • Satyam Seth Ⓒ "+(new Date).getFullYear(),e}},{key:"id",get:function(){return"dialpad-"+this.config.namespace}},{key:"element",get:function(){return document.getElementById(this.id)}}]),e}();n.default=s},{"../components/forms/inputs":2,"../layout/keypad":4}],7:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isHeld=!1,this.activeHoldTimeoutId=null,this.longPressTimeout=500,this.config=t,this.config.target.addEventListener("mousedown",this.onHoldStart.bind(this)),this.config.target.addEventListener("touchstart",this.onHoldStart.bind(this)),this.config.target.addEventListener("mouseup",this.onHoldEnd.bind(this)),this.config.target.addEventListener("mouseout",this.onHoldEnd.bind(this)),this.config.target.addEventListener("mouseleave",this.onHoldEnd.bind(this)),this.config.target.addEventListener("touchend",this.onHoldEnd.bind(this)),this.config.target.addEventListener("touchcancel",this.onHoldEnd.bind(this))}return i(e,[{key:"onHoldStart",value:function(){var e=this;console.log("Start Pressing"),this.isHeld=!0,this.config.onPressStart&&this.config.onPressStart(),this.activeHoldTimeoutId=window.setTimeout((function(){!0===e.isHeld&&(console.log("long press detected"),e.config.onLongPressCallback())}),this.longPressTimeout)}},{key:"onHoldEnd",value:function(){console.log("Stop Pressing"),this.isHeld=!1,this.config.onLongPressCancel&&this.config.onLongPressCancel(),null!==this.activeHoldTimeoutId&&(window.clearTimeout(this.activeHoldTimeoutId),this.activeHoldTimeoutId=null)}}],[{key:"apply",value:function(t){new e(t)}}]),e}();n.default=o},{}]},{},[5]);
//# sourceMappingURL=maps/bundle.js.map
